<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –ê–ª—ë–Ω–∞!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <style>
    /* ... —Å—Ç–∏–ª–∏ —Ç–µ –∂–µ —Å–∞–º—ã–µ ... */
  </style>
</head>
<body>
  <div class="container" id="main-content">
    <div class="emoji" id="emoji"></div>
    <div class="goodmorning" id="gm">–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –ê–ª—ë–Ω–∞!</div>
    <div class="main-question" id="mainQ">–¢—ã –≥–æ—Ç–æ–≤–∞? –¢—ã –≤—Å—ë —Å–º–æ–∂–µ—à—å!</div>
    <div class="motivation" id="motivation">–í—Å—ë –ø–æ–ª—É—á–∏—Ç—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ –≤–æ–ª–Ω—É–µ—à—å—Å—è!</div>
    <div class="btns">
      <button class="yes-btn" id="yesBtn">–î–∞!</button>
      <button class="no-btn" id="noBtn">–ù–µ—Ç</button>
    </div>
  </div>
  <canvas class="confetti hidden" id="confetti"></canvas>
  <div class="next-page hidden" id="nextPageMsg">
    –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–∫–æ—Ä–æ!<br>‚ú¶ –¢—É—Ç –±—É–¥–µ—Ç —á—Ç–æ-—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ ‚ú¶
  </div>
  <script>
    const noPhrases = [ /* ... */ ];
    const supportPhrases = [ /* ... */ ];
    const emojis = ['ü•≤','‚òπÔ∏è','üò¢','üòî','üòí','üòë'];

    let noClicks = 0;
    let yesLevel = 1;
    let gameEnded = false;
    let fullscreened = false;

    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const gm = document.getElementById('gm');
    const mainQ = document.getElementById('mainQ');
    const motivation = document.getElementById('motivation');
    const emoji = document.getElementById('emoji');
    const confetti = document.getElementById('confetti');
    const nextPageMsg = document.getElementById('nextPageMsg');
    const mainContent = document.getElementById('main-content');

    function setNoBtnPos() {
      noBtn.style.marginTop = (10 + noClicks * 18) + "px";
    }

    function showEmoji() {
      emoji.classList.add("visible");
      emoji.textContent = emojis[Math.min(noClicks - 1, emojis.length - 1)];
    }

    noBtn.onclick = () => {
      console.log("–ù–∞–∂–∞–ª–∏ '–ù–µ—Ç': noClicks =", noClicks, "gameEnded =", gameEnded);
      if (gameEnded) return;
      noClicks++;
      const newNo = noPhrases[Math.min(noClicks, noPhrases.length - 1)];
      noBtn.textContent = newNo;
      if (noClicks - 1 < supportPhrases.length) {
        motivation.textContent = supportPhrases[noClicks - 1];
      }
      showEmoji();
      setNoBtnPos();
    };

    yesBtn.onclick = () => {
      console.log("–ù–∞–∂–∞–ª–∏ '–î–∞': yesLevel =", yesLevel, "fullscreened =", fullscreened, "gameEnded =", gameEnded);
      // –ï—Å–ª–∏ —É–∂–µ "—Ñ–∏–Ω–∞–ª", —Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥–ª—É—à–∫—É
      if (fullscreened && gameEnded) {
        console.log("–ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –∑–∞–≥–ª—É—à–∫—É!");
        mainContent.classList.add('hidden');
        nextPageMsg.classList.remove('hidden');
        return;
      }
      if (!gameEnded) {
        growYesBtn();
      }
    };

    function growYesBtn() {
      yesLevel++;
      console.log("growYesBtn() -> yesLevel =", yesLevel);
      yesBtn.textContent = "–î–ê" + "!".repeat(yesLevel);
      yesBtn.style.fontSize = (1.7 + yesLevel * 0.6) + "rem";
      yesBtn.style.padding = (1.1 + yesLevel * 0.22) + "rem " + (2.7 + yesLevel * 0.42) + "rem";
      setNoBtnPos();

      // –ö–æ–≥–¥–∞ yesLevel >= 8
      if (yesLevel >= 8 && !fullscreened) {
        makeYesFullscreen();
        finish();
      }
    }

    function makeYesFullscreen() {
      console.log("makeYesFullscreen()");
      fullscreened = true;
      gm.classList.add('hidden');
      mainQ.classList.add('hidden');
      motivation.classList.add('hidden');
      noBtn.classList.add('hidden');
      emoji.classList.remove("visible");
      emoji.textContent = "";
      yesBtn.classList.add('fullscreen');
      yesBtn.textContent = "–î–ê" + "!".repeat(yesLevel + 2);
    }

    function finish() {
      console.log("finish() ‚Äî –∏–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞");
      gameEnded = true;
      document.body.style.background = "linear-gradient(90deg, #38ef7d 0%, #11998e 100%)";
      showConfetti();
    }

    function showConfetti() {
      /* ... –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ ... */
    }

    window.onload = () => {
      setNoBtnPos();
      emoji.classList.remove("visible");
      emoji.textContent = "";
      fullscreened = false;
      gameEnded = false;
      console.log("–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, –≤—Å—ë —Å–±—Ä–æ—à–µ–Ω–æ");
    };

    window.onresize = () => {
      if (!gameEnded) setNoBtnPos();
    };
  </script>
</body>
</html>
