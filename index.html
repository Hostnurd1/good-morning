<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –ê–ª—ë–Ω–∞!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    html, body { height: 100%; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', sans-serif;
      min-height: 100vh;
      background: linear-gradient(120deg, #FFDEE9 0%, #B5FFFC 100%);
      overflow-x: hidden;
      position: relative;
    }
    .good-morning {
      margin-top: 32px;
      font-size: 2.3em;
      font-weight: 800;
      color: #7e2771;
      text-align: center;
      letter-spacing: 1.5px;
      user-select: none;
      z-index: 2;
      position: relative;
    }
    .wish {
      margin-top: 10px;
      font-size: 1.2em;
      color: #44485a;
      text-align: center;
      font-weight: 400;
      max-width: 90vw;
      line-height: 1.3;
      margin-bottom: 22px;
      z-index: 2;
      position: relative;
    }
    .question {
      margin-top: 14px;
      font-size: 1.3em;
      font-weight: 600;
      color: #7e2771;
      text-align: center;
      margin-bottom: 36px;
      z-index: 2;
      position: relative;
      line-height: 1.3;
    }
    .center-box {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      margin-top: 10px;
      position: relative;
      min-height: 40vh;
    }
    .yes-container {
      display: flex; align-items: center; justify-content: center;
      width: 260px; height: 90px;
      background: #36b545;
      border-radius: 32px;
      transition: width 0.25s cubic-bezier(.39,.58,.57,1.27), height 0.25s cubic-bezier(.39,.58,.57,1.27), border-radius 0.3s;
      z-index: 2;
      box-shadow: 0 6px 32px #36b5451b;
      margin-bottom: 26px;
      overflow: hidden;
      will-change: width, height, border-radius;
      position: relative;
    }
    #yes-btn {
      background: transparent; border: none; color: #fff;
      font-size: 2.2em; font-weight: 900; width: 100%; height: 100%;
      cursor: pointer; transition: font-size 0.2s, color 0.2s; user-select: none;
      z-index: 3; outline: none;
      pointer-events: all;
    }
    #no-btn {
      padding: 14px 30px; background: #be2a2a; color: #fff; font-size: 1.3em;
      border: none; border-radius: 16px; font-weight: 600;
      transition: left 0.25s, top 0.25s, background 0.2s, color 0.2s;
      cursor: pointer; user-select: none;
      position: absolute;
      left: 50%; top: calc(100% + 20px); /* —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø–æ–¥ "–î–ê" */
      transform: translate(-50%, 0);
      z-index: 10;
    }
    .egg {
      display: block;
      margin: 18px auto 0 auto;
      font-size: 0.95em;
      color: #6e89a6;
      cursor: pointer;
      text-decoration: underline;
      text-align: center;
      opacity: 0.7;
      transition: opacity 0.2s;
      z-index: 2; position: relative;
    }
    .egg:hover { opacity: 1; }
    @media (max-width: 500px) {
      .good-morning { font-size: 1.3em; }
      .wish { font-size: 1em; }
      .question { font-size: 1em; }
      .yes-container { width: 130px; height: 50px;}
      #yes-btn { font-size: 1.1em;}
      #no-btn { font-size: 1em; }
    }
    .fullscreen-yes {
      position: fixed !important;
      left: 0 !important; top: 0 !important;
      width: 100vw !important; height: 100vh !important;
      border-radius: 0 !important;
      margin: 0 !important;
      z-index: 1000 !important;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: none !important;
      transition: all 0.4s cubic-bezier(.39,.58,.57,1.27);
      pointer-events: all;
    }
    .hidden {
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s;
    }
    .fullscreen-yes #yes-btn {
      font-size: 12vw !important;
      text-shadow: 0 3px 16px #217f31aa;
      font-weight: 900;
    }
  </style>
</head>
<body>
  <div class="good-morning" id="gm">–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –ê–ª—ë–Ω–∞!</div>
  <div class="wish" id="wish">
    –ü—É—Å—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –Ω–∞—á–Ω—ë—Ç—Å—è —Å —É–ª—ã–±–∫–∏.<br>
    –Ø –≤–µ—Ä—é, —á—Ç–æ —É —Ç–µ–±—è –≤—Å—ë –ø–æ–ª—É—á–∏—Ç—Å—è ‚Äî —Ç—ã —Å–∏–ª—å–Ω–∞—è, —É–º–Ω–∞—è –∏ –∫—Ä–∞—Å–∏–≤–∞—è!
  </div>
  <div class="question" id="question">
    <b>–°–µ–≥–æ–¥–Ω—è –≤–∞–∂–Ω—ã–π –¥–µ–Ω—å!</b><br>
    –ê —Ç–µ–ø–µ—Ä—å ‚Äî –≥–æ—Ç–æ–≤–∞ –ø–æ–ª—É—á–∏—Ç—å<br>
    –∑–∞—Ä—è–¥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ —ç–∫–∑–∞–º–µ–Ω–æ–º?<br>
    (–ï—Å–ª–∏ –≤–¥—Ä—É–≥ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è ‚Äî –ø—Ä–æ—Å—Ç–æ –∂–º–∏ –Ω–∞ "–î–∞"!<br>–ê –µ—Å–ª–∏ —Å–∏–ª—å–Ω–æ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è ‚Äî –ø–æ–ø—Ä–æ–±—É–π –Ω–∞–∂–∞—Ç—å "–ù–µ—Ç" –ø–∞—Ä—É —Ä–∞–∑...)
  </div>
  <div class="center-box">
    <div class="yes-container" id="yes-container">
      <button id="yes-btn">–î–ê!</button>
    </div>
    <button id="no-btn">–ù–µ—Ç</button>
  </div>
  <div class="egg" id="egg">üê£ –ù–µ –∂–º–∏ —Å—é–¥–∞!</div>
  <script>
    const yesBtn = document.getElementById('yes-btn');
    const yesContainer = document.getElementById('yes-container');
    const noBtn = document.getElementById('no-btn');
    const gm = document.getElementById('gm');
    const wish = document.getElementById('wish');
    const question = document.getElementById('question');
    const egg = document.getElementById('egg');
    const centerBox = document.querySelector('.center-box');
    let yesCount = 0;
    let fullscreenStage = false;

    // –ü–∞—Å—Ö–∞–ª–∫–∞
    egg.addEventListener('click', () => {
      alert("ü•ö –¢—ã –Ω–∞—à–ª–∞ –ø–∞—Å—Ö–∞–ª–∫—É! –ó–Ω–∞—á–∏—Ç, —É–¥–∞—á–∞ —Ç–æ—á–Ω–æ –Ω–∞ —Ç–≤–æ–µ–π —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ–≥–æ–¥–Ω—è ;)");
    });

    const noTexts = [
      "–ù–µ—Ç",
      "–¢–æ—á–Ω–æ –Ω–µ—Ç?",
      "–ù—É –º–æ–∂–µ—Ç –≤—Å—ë-—Ç–∞–∫–∏ –¥–∞?",
      "–ù–µ –æ–±–º–∞–Ω—ã–≤–∞–π, —Ç—ã –≥–æ—Ç–æ–≤–∞!",
      "–ü–æ–ø—Ä–æ–±—É–π –Ω–∞–∂–∞—Ç—å –î–∞!",
      "–ï—â—ë —Ä–∞–∑–æ–∫ –¥–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏!",
      "–ñ–º–∏ –Ω–∞ –∑–µ–ª—ë–Ω—É—é :)",
      "–ü–æ—Ä–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å!"
    ];
    const yesTexts = [
      "–î–ê!",
      "–î–ê!!",
      "–î–ê!!!",
      "–î–ê!!!!",
      "–î–ê!!!!!",
      "–î–ê!!!!!!",
      "–î–ê!!!!!!!"
    ];

    // –°–¥–≤–∏–≥–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–µ—Ç" –≤ —Å–ª—É—á–∞–π–Ω–æ–µ –º–µ—Å—Ç–æ
    function moveNoButton() {
      if (fullscreenStage) return;
      const padding = 20;
      const btnWidth = noBtn.offsetWidth;
      const btnHeight = noBtn.offsetHeight;
      const boxRect = centerBox.getBoundingClientRect();

      // –î–µ–ª–∞–µ–º —Ç–∞–∫, —á—Ç–æ–±—ã –Ω–µ –≤—ã–ª–∞–∑–∏–ª–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã .center-box (–Ω–æ –Ω–µ –Ω–∞–∫–ª–∞–¥—ã–≤–∞–ª–∞—Å—å –Ω–∞ "–î–ê")
      let minTop = boxRect.top;
      let maxTop = boxRect.bottom - btnHeight - padding;
      let minLeft = boxRect.left + padding;
      let maxLeft = boxRect.right - btnWidth - padding;

      let newTop = Math.random() * (maxTop - minTop) + minTop;
      let newLeft = Math.random() * (maxLeft - minLeft) + minLeft;

      // –ü–µ—Ä–µ–≤–æ–¥–∏–º –≤ –ø—Ä–æ—Ü–µ–Ω—Ç—ã –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏
      const vh = window.innerHeight;
      const vw = window.innerWidth;
      noBtn.style.left = ((newLeft / vw) * 100) + 'vw';
      noBtn.style.top = ((newTop / vh) * 100) + 'vh';
      noBtn.style.transform = "none";
    }

    // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É "–ù–µ—Ç" –ø–æ–¥ "–î–ê" –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
    function centerNoButton() {
      noBtn.style.left = "50%";
      noBtn.style.top = "calc(100% + 20px)";
      noBtn.style.transform = "translate(-50%, 0)";
    }

    // –î–µ–π—Å—Ç–≤–∏–µ –ø–æ –∫–ª–∏–∫—É/—Ç–∞–ø—É –Ω–∞ "–ù–µ—Ç"
    function handleNoBtn() {
      if (fullscreenStage) return;
      yesCount++;
      moveNoButton();
      const steps = 7;
      const minWidth = Math.min(window.innerWidth * 0.55, 320);
      const maxWidth = window.innerWidth;
      const minHeight = Math.min(window.innerHeight * 0.14, 110);
      const maxHeight = window.innerHeight * 0.7;

      let width, height;
      if (yesCount < steps - 1) {
        width = minWidth + (maxWidth - minWidth) * yesCount / steps;
        height = minHeight + (maxHeight - minHeight) * yesCount / steps;
        yesContainer.style.width = `${width}px`;
        yesContainer.style.height = `${height}px`;
      }

      yesBtn.innerText = yesTexts[Math.min(yesCount, yesTexts.length-1)];
      yesBtn.style.fontSize = `${2.2 + yesCount*0.6}em`;
      noBtn.innerText = noTexts[Math.min(yesCount, noTexts.length-1)];

      // –ü–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥ ‚Äî fullscreen "–î–ê"
      if (yesCount >= steps - 1) {
        fullscreenStage = true;
        yesContainer.classList.add('fullscreen-yes');
        yesContainer.style.width = "100vw";
        yesContainer.style.height = "100vh";
        yesBtn.innerText = "–î–ê!!!!!!!";
        yesBtn.style.fontSize = "12vw";
        gm.classList.add('hidden');
        wish.classList.add('hidden');
        question.classList.add('hidden');
        egg.classList.add('hidden');
        noBtn.classList.add('hidden');
      }
    }

    // –ù–∞ —Å—Ç–∞—Ä—Ç–µ —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º
    window.addEventListener('DOMContentLoaded', centerNoButton);
    window.addEventListener('resize', centerNoButton);

    // –ù–∞ –∫–ª–∏–∫ –∏ —Ç–∞–ø –ø–æ "–ù–µ—Ç" ‚Äî –∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö, –∏ –Ω–∞ –ü–ö
    noBtn.addEventListener('click', handleNoBtn);
    noBtn.addEventListener('touchstart', function(e) {
      e.preventDefault();
      handleNoBtn();
    });

    // –ü–∞—Å—Ö–∞–ª–∫–∞: –¥–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ "–ù–µ—Ç"
    let holdTimeout;
    noBtn.addEventListener('mousedown', () => {
      holdTimeout = setTimeout(() => {
        alert("üí° –î–µ—Ä–∂–∏—à—å '–ù–µ—Ç'? –õ–æ–≤–∫–æ! –ù–æ –≤ –∂–∏–∑–Ω–∏ –∏–Ω–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –ø—Ä–æ—Å—Ç–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å :)");
      }, 1200);
    });
    noBtn.addEventListener('mouseup', () => clearTimeout(holdTimeout));
    noBtn.addEventListener('mouseleave', () => clearTimeout(holdTimeout));
    noBtn.addEventListener('touchstart', () => {
      holdTimeout = setTimeout(() => {
        alert("üí° –î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ '–ù–µ—Ç' —Ç–æ–∂–µ –ø–∞—Å—Ö–∞–ª–∫–∞! –ü–æ–ø—Ä–æ–±—É–π –∏ –Ω–∞ '–î–∞' ;)");
      }, 1200);
    });
    noBtn.addEventListener('touchend', () => clearTimeout(holdTimeout));

    yesBtn.addEventListener('click', function(e) {
      if (fullscreenStage) {
        yesBtn.innerText = "–¢—ã –≥–æ—Ç–æ–≤–∞ –Ω–∞ 100%!";
        setTimeout(() => {
          window.location.href = "success.html";
        }, 1100);
      }
    });
  </script>
</body>
</html>
