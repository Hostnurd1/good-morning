<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Доброе утро, Алёна!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    html, body {
      height: 100%;
      margin: 0; 
      padding: 0;
      width: 100vw; 
      min-height: 100vh;
    }
    body {
      /* Плавный градиент заднего фона */
      background: linear-gradient(270deg, #c0e0fc, #f6d2e0, #b2ffd6, #fde9b3, #f3b6ff, #b8e4ff);
      background-size: 400% 400%;
      animation: gradientBG 15s ease-in-out infinite;

      display: flex;
      flex-direction: column; 
      align-items: center; 
      justify-content: center;

      overflow: hidden; 
      transition: background 0.6s;
    }
    @keyframes gradientBG {
      0%   { background-position: 0% 50%; }
      25%  { background-position: 100% 50%; }
      50%  { background-position: 100% 0%;  }
      75%  { background-position: 0% 50%;   }
      100% { background-position: 0% 50%;   }
    }

    /* ---------------- Прогресс-бар ---------------- */
    .progress-bar-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 10px;
      background: #e8eef6c2;
      z-index: 10;
      transition: opacity 0.5s;
    }
    .progress-bar-bg.hide {
      opacity: 0; 
      pointer-events: none;
    }
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #62efab, #67d8f9 80%);
      border-radius: 6px;
      transition: width 0.35s cubic-bezier(.77, 1.99, .26, -0.91);
      width: 0%;
      box-shadow: 0 0 12px #80f0cf8a;
    }
    /* Текст прямо под прогресс-баром */
    #progressText {
      position: fixed;
      top: 14px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.95rem;
      font-weight: 600;
      color: #333;
      z-index: 11;
      text-shadow: 0 1px 5px #fff9;
    }

    /* Метка "Ты зарядилась на максимум!" (появляется при 100%) */
    .progress-label {
      position: fixed;
      top: 16px;
      left: 50%;
      transform: translateX(-50%);
      color: #4e7c53;
      font-size: 1rem;
      font-weight: 800;
      letter-spacing: 1px;
      text-shadow: 0 2px 7px #fff8;
      z-index: 13;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.6s;
    }
    .progress-label.active {
      opacity: 1;
    }

    /* ---------------- Контейнер и заголовки ---------------- */
    .container {
      display: flex; 
      flex-direction: column; 
      align-items: center;
      width: 100vw;
      position: relative; 
      margin-top: 5vh;
    }
    .emoji {
      position: relative;
      display: block;
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 0.7rem;
      height: 2.7rem;
      line-height: 2.7rem;
      transition: opacity 0.28s;
      opacity: 0;
      user-select: none;
      pointer-events: none;
      width: 100vw;
    }
    .emoji.visible {
      opacity: 1;
    }

    .goodmorning {
      font-size: 2.3rem;
      margin-bottom: 1.1rem;
      color: #383862;
      font-weight: 800;
      letter-spacing: 1px;
      text-shadow: 0 2px 8px #fff8;
      transition: 0.2s;
      text-align: center;
    }
    .main-question {
      font-size: 1.5rem;
      font-weight: 900;
      color: #36417e;
      text-align: center;
      margin-bottom: 0.5rem;
      text-shadow: 0 2px 8px #fff8;
      transition: 0.2s;
    }

    /* ---------------- Мотивация ---------------- */
    .motivation {
      font-size: 1.22rem;
      color: #36417e;
      background: #e9eafd;
      padding: 0.37em 1em;
      border-radius: 1.2em;
      margin-bottom: 1.4rem;
      font-weight: 800;
      min-height: 2.2rem;
      text-align: center;
      transition: 0.18s;
      max-width: 92vw;
      box-shadow: 0 2px 12px #d3e9fa65;
      display: inline-block;
      position: relative;
      z-index: 1;
      opacity: 0;
      animation: fadeMotivation 0.7s forwards;
    }
    @keyframes fadeMotivation {
      0%   { opacity: 0; transform: scale(0.92);}
      35%  { opacity: 1; transform: scale(1.04);}
      80%  { opacity: 1; transform: scale(1);}
      100% { opacity: 1; }
    }

    /* ---------------- Кнопки "Да" и "Нет" ---------------- */
    .btns {
      /* делаем флекс-ряд, чтобы «Нет» была рядом с «Да» */
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
      width: 100vw;
      min-height: 8rem;
      position: relative;
      gap: 1rem; /* расстояние между кнопками */
    }

    .yes-btn {
      background: linear-gradient(90deg, #00b09b 0%, #96c93d 100%);
      color: #fff;
      font-weight: bold;
      border: none;
      border-radius: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 16px #b3eabf61;
      z-index: 2; 
      position: relative;

      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;

      transition: font-size 0.26s, padding 0.22s, width 0.22s, height 0.22s, 
                  min-width 0.22s, min-height 0.22s, border-radius 0.25s, box-shadow 0.3s;
      animation: pulse 1.3s infinite alternate;

      font-size: 2rem;
      min-width: 170px;
      min-height: 65px;
      padding: 1.1rem 2.7rem;
      text-align: center;
      user-select: none;
    }
    .yes-btn.pulse-2 {
      animation: pulse2 1s infinite alternate;
    }
    .yes-btn.pulse-3 {
      animation: pulse3 0.8s infinite alternate;
    }

    /* Полноэкранная кнопка "ДА" (финал) */
    .yes-btn.fullscreen {
      position: fixed !important;
      left: 0 !important;
      top: 0 !important;
      width: 100vw !important;
      height: 100vh !important;
      margin: 0 !important;
      border-radius: 0 !important;
      font-size: 8vw !important;
      padding: 0 !important;

      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 150;
      animation: none !important;

      box-shadow: 0 0 120px 45px #21cf8e88;
      background: linear-gradient(90deg, #38ef7d 0%, #11998e 100%) !important;

      min-width: 100vw;
      min-height: 100vh;
    }

    @keyframes pulse {
      from { box-shadow: 0 0 18px 6px #54fae2b5; }
      to   { box-shadow: 0 0 30px 12px #8be58eb3; }
    }
    @keyframes pulse2 {
      from { box-shadow: 0 0 38px 16px #63eebf; }
      to   { box-shadow: 0 0 55px 26px #c0f04f; }
    }
    @keyframes pulse3 {
      from { box-shadow: 0 0 70px 38px #5fff82b5; }
      to   { box-shadow: 0 0 90px 60px #fdffaab3; }
    }

    .no-btn {
      background: linear-gradient(90deg, #ef473a 0%, #cb2d3e 100%);
      color: #fff;
      font-size: 1.1rem;
      font-weight: bold;
      padding: 0.7rem 2rem;
      border: none;
      border-radius: 1.2rem;
      cursor: pointer;
      min-width: 95px;
      min-height: 40px;
      user-select: none;
      display: block;
      z-index: 5;
      transition: font-size 0.15s, padding 0.15s, background 0.13s, filter 0.13s;
    }

    /* ---------------- Всплывающий смайлик над "ДА" ---------------- */
    .smile-da {
      font-size: 2.8rem;
      position: absolute;
      left: 50%;
      top: -2.1em;
      transform: translateX(-50%);
      z-index: 21;
      opacity: 0;
      transition: opacity 0.2s;
      pointer-events: none;
      user-select: none;
      animation: smileda 1.2s forwards;
    }
    @keyframes smileda {
      0%   {opacity: 0;}
      12%  {opacity: 1;}
      85%  {opacity: 1;}
      100% {opacity: 0;}
    }

    /* ---------------- Plus1 контейнер, если нужен ---------------- */
    #plus1-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: 9999;
    }
    .plus1 {
      position: absolute;
      font-size: 2rem;
      font-weight: bold;
      color: #45c049;
      animation: plus1anim 1s ease-out forwards;
      text-shadow: 0 1px 5px #fff;
    }
    @keyframes plus1anim {
      0%   { transform: translate(0,0) scale(1); opacity: 1; }
      80%  { opacity: 1; }
      100% { transform: translate(0,-50px) scale(1.3); opacity: 0; }
    }

    /* ------------------ Конфетти ------------------ */
    .confetti {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 200;
    }
    .confetti.hidden {
      display: none;
    }

    /* ------------------ Медведь, облако и т.д. (если используешь) ------------------ */
    #bear {
      position: absolute;
      width: 100px; 
      height: 100px;
      bottom: 10px;
      right: 10px;
      background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAG1BMVEWqqqqqqqqqqqqqqqqqqqqqqqqoq/uxAAAACHRSTlMA8I6wj/j9pcvd4gAAAGxJREFUeNrt1DEOACAIBEChe/2VXBMCRwQHGpbjr+MT6B2JQKQQcnnrp92wyMVQIbQCWwC2wKWwCFwBGQ+lSUYd8h3f9zKQpkKQNAhDQCEMAgo+gXVfyop3nz1gS0U3kQAAAABJRU5ErkJggg==') no-repeat center/contain;
      z-index: 50;
    }
    #cloud {
      position: absolute;
      width: 120px; 
      height: 80px;
      top: 5vh;
      left: 5vw;
      background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABmCAYAAAAeF6/KAAAACXBIWXMAABYlAAAWJQFJUiTwAAACl0lEQVR4nO3cMU4bQRTF4S1KVyjU1K52xYAkEZRgcwW3ILqB0CyEBjQZqB1D0KZ7GMl8j6ZcuDG2TGpKkqRSpUqVKpOo9oS4l2H/wC8fb/2pSYC0OYUrIrLQs3S4wLAavmAQHOBEAwgRAxgqYwBLq+vBeQ+ubn9crp6ztN8OqCr2SNEs3CC7PvBHj0BQn/HvIUnDhEJ/HfIUHD8Ei1yf2Ig6PhELHK8x0Cy/Rk6n+0WC9gcKG9kNqIV37LFRmLGqTqiVRSVp9o6PEaWZwVo7l8n9v6GZTEvWILDUZhLh+T98DwDjghAMIEQDGBEC6xscSPjGo6evRmAAAAAElFTkSuQmCC') no-repeat center/contain;
      z-index: 51;
      opacity: 0.7;
      animation: floatCloud 10s linear infinite alternate;
    }
    @keyframes floatCloud {
      0%   { transform: translateY(0px)   translateX(0px); }
      100% { transform: translateY(15px)  translateX(10px); }
    }

  </style>
</head>
<body>

  <!-- Прогресс-бар -->
  <div class="progress-bar-bg" id="progress-bar-bg">
    <div class="progress-bar" id="progress"></div>
  </div>
  <!-- Текст под прогресс-баром -->
  <div id="progressText"></div>

  <!-- Если захочешь, можешь включать/отключать это сообщение при 100% -->
  <div class="progress-label" id="progress-label">Ты зарядилась на максимум!</div>

  <div class="container" id="main-content">
    <div class="emoji" id="emoji"></div>

    <div class="goodmorning" id="gm">
      Доброе утро, Алёна!
    </div>
    <div class="main-question" id="mainQ">
      Ты готова? Ты всё сможешь!
    </div>
    <div class="motivation" id="motivation">
      Всё получится, даже если волнуешься!
    </div>

    <!-- Блок с кнопками -->
    <div class="btns">
      <button class="yes-btn" id="yesBtn">Да!</button>
      <button class="no-btn" id="noBtn">Нет</button>
    </div>

    <!-- Дополнительные элементы (плюсики, эффекты, изображения) -->
    <div id="plus1-container"></div>
    <div id="effects-root"></div>
    <div id="bear"></div>
    <div id="cloud"></div>
  </div>

  <!-- Canvas для конфетти -->
  <canvas class="confetti hidden" id="confetti"></canvas>

  <script>
    /* --------------------------------------------
       Все нужные массивы, смайлики, эффекты, 
       анимации — "полный" код, чтобы сразу работало.
       -------------------------------------------- */

    // Количество кликов/уровней
    let noClicks = 0,
        yesClicks = 0,
        yesLevel = 1,
        gameEnded = false,
        fullscreened = false;

    // Смайлики при "Да" и при "Нет"
    const yesSmiles = ['😁','😃','🤗','😸','🥳','🤩','😻','🙌','💚','😊','😇','🎉'];
    const noSmiles  = ['😅','😜','😆','🤪','🙃','🫢','😂','😝','🤡','😱'];

    // Ссылки на элементы
    const progress       = document.getElementById('progress');
    const noBtn          = document.getElementById('noBtn');
    const yesBtn         = document.getElementById('yesBtn');
    const progressLabel  = document.getElementById('progress-label');
    const confettiCanvas = document.getElementById('confetti');
    let confettiCtx      = confettiCanvas.getContext('2d');

    /* --------------- Конфетти --------------- */
    let confettiPieces = [];
    function createConfetti(num = 100) {
      // Заполняем массив конфетти
      confettiPieces = [];
      for (let i = 0; i < num; i++) {
        confettiPieces.push({
          x: Math.random() * window.innerWidth,
          y: Math.random() * window.innerHeight - window.innerHeight,
          r: Math.random() * 6 + 4,
          d: Math.random() * 20 + 10,
          color: `hsl(${Math.random() * 360}, 100%, 50%)`,
          tilt: Math.random() * 10 - 10,
          tiltAngleIncremental: Math.random() * 0.07 + 0.05,
          tiltAngle: Math.random() * Math.PI,
        });
      }
    }
    function drawConfetti() {
      confettiCtx.clearRect(0, 0, window.innerWidth, window.innerHeight);
      confettiPieces.forEach((p, index) => {
        confettiCtx.beginPath();
        confettiCtx.lineWidth = p.r;
        confettiCtx.strokeStyle = p.color;
        let x = p.x + p.tilt;
        confettiCtx.moveTo(x + p.r / 2, p.y);
        confettiCtx.lineTo(x, p.y + p.tilt + p.r / 2);
        confettiCtx.stroke();
      });
      updateConfetti();
      requestAnimationFrame(drawConfetti);
    }
    function updateConfetti() {
      confettiPieces.forEach((p, index) => {
        p.tiltAngle += p.tiltAngleIncremental;
        p.y += (Math.cos(p.d) + 3);
        p.tilt = Math.sin(p.tiltAngle) * 15;

        if (p.y > window.innerHeight) {
          p.x = Math.random() * window.innerWidth;
          p.y = -20;
        }
      });
    }

    /* ------ Показать/скрыть холст конфетти ------ */
    function startConfetti() {
      confettiCanvas.classList.remove('hidden');
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
      createConfetti(180);
      drawConfetti();
    }
    function stopConfetti() {
      confettiCanvas.classList.add('hidden');
      confettiCtx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
      confettiPieces = [];
    }

    /* --------------- Плюсики (+1) при клике --------------- */
    function plusOneEffect(x, y, text='+1') {
      const container = document.getElementById('plus1-container');
      const plus = document.createElement('div');
      plus.className = 'plus1';
      plus.style.left = x + 'px';
      plus.style.top = y + 'px';
      plus.textContent = text;
      container.appendChild(plus);
      setTimeout(() => {
        container.removeChild(plus);
      }, 1000);
    }

    /* --------------- Обновление прогресс-бара --------------- */
    function updateProgressBar() {
      // Каждая ступень (yesLevel) = +8% (для примера)
      let progressPercent = yesLevel * 8;
      if (progressPercent > 100) {
        progressPercent = 100; 
      }

      progress.style.width = progressPercent + '%';

      // Меняем текст под полосой
      const progressTextEl = document.getElementById('progressText');
      if (progressPercent < 30) {
        progressTextEl.textContent = `Ещё чуть-чуть... (${progressPercent}%)`;
      } else if (progressPercent < 60) {
        progressTextEl.textContent = `Отлично, так держать! (${progressPercent}%)`;
      } else if (progressPercent < 90) {
        progressTextEl.textContent = `Уже почти финиш! (${progressPercent}%)`;
      } else if (progressPercent < 100) {
        progressTextEl.textContent = `Совсем чуть-чуть до 100%! (${progressPercent}%)`;
      } else {
        progressTextEl.textContent = 'Ура! 100% готовность!';
        // Можно показать надпись "Ты зарядилась на максимум!"
        progressLabel.classList.add('active');
      }
    }

    /* Сдвигать кнопку "Нет" при каждом клике (если хочется) */
    function setNoBtnPos() {
      noBtn.style.marginTop = (16 + (noClicks + yesClicks) * 2) + 'px';
    }

    /* Смайлик всплывает над кнопкой "ДА" */
    function showSmileDa() {
      let smile = document.createElement('span');
      smile.className = 'smile-da';
      smile.textContent = yesSmiles[Math.floor(Math.random() * yesSmiles.length)];
      yesBtn.appendChild(smile);
      setTimeout(() => smile.remove(), 1200);
    }

    /* Смайлик всплывает над кнопкой "НЕТ" */
    function showSmileNo() {
      let smile = document.createElement('span');
      smile.className = 'smile-da';
      smile.textContent = noSmiles[Math.floor(Math.random() * noSmiles.length)];
      noBtn.appendChild(smile);
      setTimeout(() => smile.remove(), 1200);
    }

    /* Меняем надпись на кнопке "ДА" в зависимости от yesLevel */
    function updateYesBtn() {
      yesBtn.innerHTML = '';

      let excls = yesLevel;
      if (excls <= 8) {
        // Если мало, просто ДА + повторяющиеся "!"
        yesBtn.innerHTML = `ДА${'!'.repeat(excls)}`;
      } else {
        // Если уже много, разбиваем на три строки
        let top = '!'.repeat(Math.ceil(excls / 2));
        let bottom = '!'.repeat(Math.floor(excls / 2));
        yesBtn.innerHTML = `
          <span style="display:block;font-size:0.8em;">${top}</span>
          <span style="display:block;font-size:1.18em;line-height:1.08;">ДА</span>
          <span style="display:block;font-size:0.8em;">${bottom}</span>
        `;
      }

      // Плавный рост кнопки
      let scale = 1 + yesLevel * 0.11;
      yesBtn.style.fontSize = `clamp(2rem, ${scale * 4.4}vw, 7.7rem)`;
      yesBtn.style.minWidth = `${170 + yesLevel * 17}px`;
      yesBtn.style.minHeight = `${65 + yesLevel * 11}px`;

      // При больших значениях кнопка может растянуться
      if (yesLevel >= 10) {
        yesBtn.style.width = '92vw';
        yesBtn.style.height = '67vh';
      } else {
        yesBtn.style.width = 'auto';
        yesBtn.style.height = 'auto';
      }

      // Доп. анимация пульса
      if (yesLevel > 3 && yesLevel < 7) {
        yesBtn.classList.add('pulse-2');
      } else {
        yesBtn.classList.remove('pulse-2');
      }
      if (yesLevel >= 7 && yesLevel < 10) {
        yesBtn.classList.add('pulse-3');
      } else {
        yesBtn.classList.remove('pulse-3');
      }

      // Финал: когда уровень большой, делаем полноэкранную кнопку
      if (yesLevel >= 13 && !fullscreened) {
        yesBtn.classList.add('fullscreen');
        document.getElementById('progress-bar-bg').classList.add('hide');
        fullscreened = true;
        finish(); 
      }
    }

    /* Увеличиваем уровень "ДА" на 1 */
    function growYesBtn() {
      yesLevel++;
      updateYesBtn();
      setNoBtnPos();
      updateProgressBar();
    }

    /* -----------------------------------------------------
       Обработчики клика по "ДА" и "НЕТ"
       ----------------------------------------------------- */
    yesBtn.onclick = (event) => {
      if (gameEnded) return;
      yesClicks++;

      growYesBtn();
      showSmileDa();
      plusOneEffect(event.clientX, event.clientY, '+1');

      // Можешь добавить свою логику: менять мотивацию, запускать эффект
      // Пример: если yesLevel == 5, сказать что-то особенное
      /*
      if (yesLevel === 5) {
        document.getElementById('motivation').textContent = 'Ты уже на 5-м шаге! Круто!';
      }
      */
    };

    noBtn.onclick = (event) => {
      if (gameEnded) return;
      noClicks++;

      // Даже при "Нет" — всё равно растём :)
      growYesBtn();
      showSmileNo();
      plusOneEffect(event.clientX, event.clientY, '-1? Нет, всё равно +1!');

      // Своё поведение — например, поощрять, что главное нажать:
      // document.getElementById('motivation').textContent = 'Даже если «Нет», всё равно движемся вперёд!';
    };

    /* -----------------------------------------------------
       Финал — кнопка "Да" стала fullscreen
       ----------------------------------------------------- */
    function finish() {
      gameEnded = true;
      console.log('Финал: кнопка «ДА» стала полноэкранной!');
      // Запустим конфетти, чтобы было весело
      startConfetti();

      // Можно через 5 секунд отключить конфетти
      setTimeout(() => {
        stopConfetti();
      }, 5000);

      // Можно здесь ещё что-нибудь показать
      // Например, вывести alert или сменить текст мотивации
      /*
      document.getElementById('motivation').textContent =
        'Ура! Ты на вершине успеха!';
      */
    }

    /* ---------------- При загрузке сбрасываем всё ---------------- */
    window.onload = () => {
      noClicks = 0;
      yesClicks = 0;
      yesLevel = 1;
      gameEnded = false;
      fullscreened = false;

      // Если метка была "active", уберём
      progressLabel.classList.remove('active');

      updateYesBtn();
      setNoBtnPos();
      updateProgressBar();
    };

    /* Если меняется размер окна, стоит пересоздавать canvas конфетти */
    window.onresize = () => {
      confettiCanvas.width  = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
    };
  </script>
</body>
</html>


