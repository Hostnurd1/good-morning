<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Доброе утро, Алёна!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      height: 100vh;
      width: 100vw;
      background: linear-gradient(120deg, #f2a6b1 0%, #eec6cb 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      transition: background 0.6s;
    }
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100vw;
      z-index: 1;
      position: relative;
    }
    .goodmorning {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: #fff;
      text-shadow: 0 2px 6px #d18092b7;
      font-weight: 700;
    }
    .question {
      font-size: 1.6rem;
      margin-bottom: 1.5rem;
      font-weight: 600;
      color: #9c2a3b;
      text-align: center;
      max-width: 95vw;
      min-height: 3.2rem;
      transition: 0.2s;
    }
    .valentine {
      font-size: 2.4rem;
      color: #ad415d;
      font-family: 'Georgia', serif;
      margin-bottom: 2.2rem;
      font-style: italic;
      font-weight: bold;
      text-shadow: 0 2px 6px #fff8;
    }
    .btns {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100vw;
      position: relative;
      min-height: 6rem;
    }
    .yes-btn {
      background: #27c54f;
      color: #fff;
      font-size: 1.7rem;
      font-weight: bold;
      padding: 1.1rem 2.7rem;
      border: none;
      border-radius: 1.2rem;
      margin-bottom: 1.2rem;
      transition: font-size 0.18s, padding 0.18s, width 0.2s, height 0.2s;
      cursor: pointer;
      z-index: 2;
      position: relative;
      box-shadow: 0 2px 10px #b3eabf77;
    }
    .no-btn {
      background: #bb2323;
      color: #fff;
      font-size: 1.1rem;
      font-weight: bold;
      padding: 0.8rem 1.7rem;
      border: none;
      border-radius: 1.2rem;
      margin-top: 0.5rem;
      position: absolute;
      left: 50%;
      top: 65%;
      transform: translate(-50%, 0);
      transition: left 0.5s, top 0.5s, font-size 0.12s, padding 0.12s;
      cursor: pointer;
      z-index: 5;
      min-width: 95px;
      min-height: 40px;
      user-select: none;
    }
    .confetti {
      position: fixed;
      left: 0; top: 0; width: 100vw; height: 100vh;
      pointer-events: none;
      z-index: 100;
    }
    .hidden {
      display: none !important;
    }
    @media (max-width: 600px) {
      .goodmorning { font-size: 2rem; }
      .question { font-size: 1.1rem; }
      .valentine { font-size: 1.4rem; }
      .yes-btn { font-size: 1.3rem; padding: 0.8rem 1.5rem; }
      .no-btn { font-size: 1rem; padding: 0.7rem 1.1rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="goodmorning" id="gm">Доброе утро!</div>
    <div class="question" id="question">Ты готова? Ты всё сможешь!</div>
    <div class="valentine">Will be my <span style="color:#e94271;">Valentine?</span></div>
    <div class="btns">
      <button class="yes-btn" id="yesBtn">Да!</button>
      <button class="no-btn" id="noBtn">Нет</button>
    </div>
  </div>
  <canvas class="confetti hidden" id="confetti"></canvas>
  <script>
    // Фразы для "нет"
    const noPhrases = [
      "Нет",
      "Точно нет?",
      "Может, всё-таки да?",
      "Ты уверена?",
      "А если попробовать?",
      "Ну давай, рискни!",
      "Ты справишься!",
      "Давай уже жми «да»!",
      "Последний шанс сказать да!"
    ];
    // Поддерживающие фразы (будет меняться под кнопками)
    const supportPhrases = [
      "Ты сильная, у тебя всё получится!",
      "Ты сегодня удивишь экзаменатора!",
      "Ты знаешь больше, чем думаешь.",
      "Поверить в себя — твоя суперсила.",
      "Я уверен(а) в тебе!",
      "Ты справишься с этим на раз-два!",
      "Просто будь собой — и всё получится!",
      "Экзамен? Пфф, это не страшно для тебя!",
      "Пора показать всем, кто тут звезда!"
    ];

    let noClicks = 0;
    let yesLevel = 1;
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const gm = document.getElementById('gm');
    const question = document.getElementById('question');
    const confetti = document.getElementById('confetti');

    function getRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min)) + min;
    }

    // Перемещение кнопки "нет" по экрану
    function moveNoBtn() {
      const btnsRect = document.querySelector('.btns').getBoundingClientRect();
      const noRect = noBtn.getBoundingClientRect();
      const padding = 10;
      const maxLeft = window.innerWidth - noRect.width - padding;
      const maxTop = window.innerHeight - noRect.height - padding - 60;
      let left, top;
      // Не даём "нет" перекрыться с "да"
      let attempts = 0;
      do {
        left = getRandomInt(padding, maxLeft);
        top = getRandomInt(140, maxTop);
        attempts++;
      } while (
        Math.abs(left - yesBtn.offsetLeft) < yesBtn.offsetWidth + 10 &&
        Math.abs(top - yesBtn.offsetTop) < yesBtn.offsetHeight + 10 &&
        attempts < 10
      );
      noBtn.style.left = left + "px";
      noBtn.style.top = top + "px";
    }

    // Обработка нажатия "нет"
    noBtn.onclick = () => {
      noClicks++;
      // Меняем фразу
      let newNo = noPhrases[Math.min(noClicks, noPhrases.length-1)];
      noBtn.textContent = newNo;
      // Перемещаем кнопку
      moveNoBtn();
      // Растим "да"
      yesLevel++;
      yesBtn.textContent = "Да" + "!".repeat(yesLevel);
      yesBtn.style.fontSize = (1.7 + yesLevel*0.3) + "rem";
      yesBtn.style.padding = (1.1 + yesLevel*0.15) + "rem " + (2.7 + yesLevel*0.3) + "rem";
      // Скрываем "Доброе утро!" после первого клика
      if (gm && !gm.classList.contains('hidden')) gm.classList.add('hidden');
      // Меняем поддерживающий текст иногда
      if (noClicks < supportPhrases.length) {
        question.textContent = supportPhrases[noClicks];
      }
      // В конце — делаем "да" огромным и запускаем финал
      if (yesLevel >= 6) {
        finish();
      }
    };

    // Обработка нажатия "да"
    yesBtn.onclick = () => {
      yesLevel++;
      yesBtn.textContent = "Да" + "!".repeat(yesLevel);
      yesBtn.style.fontSize = (1.7 + yesLevel*0.3) + "rem";
      yesBtn.style.padding = (1.1 + yesLevel*0.15) + "rem " + (2.7 + yesLevel*0.3) + "rem";
      if (gm && !gm.classList.contains('hidden')) gm.classList.add('hidden');
      if (yesLevel >= 6) {
        finish();
      }
    };

    function finish() {
      document.body.style.background = "#27c54f";
      yesBtn.style.position = "fixed";
      yesBtn.style.left = "50%";
      yesBtn.style.top = "50%";
      yesBtn.style.transform = "translate(-50%, -50%)";
      yesBtn.style.fontSize = "clamp(3rem, 15vw, 8rem)";
      yesBtn.style.padding = "3vw 13vw";
      yesBtn.textContent = "ДА" + "!".repeat(yesLevel + 1);
      question.classList.add('hidden');
      noBtn.classList.add('hidden');
      document.querySelector('.valentine').classList.add('hidden');
      showConfetti();
    }

    // Простая конфетти-анимация
    function showConfetti() {
      confetti.width = window.innerWidth;
      confetti.height = window.innerHeight;
      confetti.classList.remove('hidden');
      const ctx = confetti.getContext('2d');
      const pieces = [];
      for (let i = 0; i < 160; i++) {
        pieces.push({
          x: Math.random() * confetti.width,
          y: Math.random() * -confetti.height,
          w: getRandomInt(6, 12),
          h: getRandomInt(14, 22),
          color: `hsl(${getRandomInt(0,360)}, 88%, 58%)`,
          speed: Math.random() * 4 + 2,
          angle: Math.random() * Math.PI * 2,
          spin: Math.random() * 0.1 + 0.01
        });
      }
      let frame = 0;
      function draw() {
        ctx.clearRect(0,0,confetti.width,confetti.height);
        for (let p of pieces) {
          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.angle + frame * p.spin);
          ctx.fillStyle = p.color;
          ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
          ctx.restore();
          p.y += p.speed;
          if (p.y > confetti.height + 20) p.y = -30;
        }
        frame++;
        requestAnimationFrame(draw);
      }
      draw();
    }
    // Начальное позиционирование "нет"
    window.onload = () => moveNoBtn();
    window.onresize = () => moveNoBtn();
  </script>
</body>
</html>

