<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –ê–ª—ë–Ω–∞!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    html, body {
      height: 100%;
      margin: 0; 
      padding: 0;
      width: 100vw; 
      min-height: 100vh;
    }
    body {
      /* –ü–ª–∞–≤–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –∑–∞–¥–Ω–µ–≥–æ —Ñ–æ–Ω–∞ */
      background: linear-gradient(270deg, #c0e0fc, #f6d2e0, #b2ffd6, #fde9b3, #f3b6ff, #b8e4ff);
      background-size: 400% 400%;
      animation: gradientBG 15s ease-in-out infinite;

      display: flex;
      flex-direction: column; 
      align-items: center; 
      justify-content: center;

      overflow: hidden; 
      transition: background 0.6s;
    }
    @keyframes gradientBG {
      0%   { background-position: 0% 50%; }
      25%  { background-position: 100% 50%; }
      50%  { background-position: 100% 0%;  }
      75%  { background-position: 0% 50%;   }
      100% { background-position: 0% 50%;   }
    }

    /* ---------------- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä ---------------- */
    .progress-bar-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 10px;
      background: #e8eef6c2;
      z-index: 10;
      transition: opacity 0.5s;
    }
    .progress-bar-bg.hide {
      opacity: 0; 
      pointer-events: none;
    }
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #62efab, #67d8f9 80%);
      border-radius: 6px;
      transition: width 0.35s cubic-bezier(.77, 1.99, .26, -0.91);
      width: 0%;
      box-shadow: 0 0 12px #80f0cf8a;
    }
    /* –¢–µ–∫—Å—Ç –ø—Ä—è–º–æ –ø–æ–¥ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º */
    #progressText {
      position: fixed;
      top: 14px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.95rem;
      font-weight: 600;
      color: #333;
      z-index: 11;
      text-shadow: 0 1px 5px #fff9;
    }

    /* –ú–µ—Ç–∫–∞ "–¢—ã –∑–∞—Ä—è–¥–∏–ª–∞—Å—å –Ω–∞ –º–∞–∫—Å–∏–º—É–º!" (–ø—Ä–∏ 100%) */
    .progress-label {
      position: fixed;
      top: 16px;
      left: 50%;
      transform: translateX(-50%);
      color: #4e7c53;
      font-size: 1rem;
      font-weight: 800;
      letter-spacing: 1px;
      text-shadow: 0 2px 7px #fff8;
      z-index: 13;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.6s;
    }
    .progress-label.active {
      opacity: 1;
    }

    /* ---------------- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ ---------------- */
    .container {
      display: flex; 
      flex-direction: column; 
      align-items: center;
      width: 100vw;
      position: relative; 
      margin-top: 5vh;
    }
    .emoji {
      position: relative;
      display: block;
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 0.7rem;
      height: 2.7rem;
      line-height: 2.7rem;
      transition: opacity 0.28s;
      opacity: 0;
      user-select: none;
      pointer-events: none;
      width: 100vw;
    }
    .emoji.visible {
      opacity: 1;
    }

    .goodmorning {
      font-size: 2.3rem;
      margin-bottom: 1.1rem;
      color: #383862;
      font-weight: 800;
      letter-spacing: 1px;
      text-shadow: 0 2px 8px #fff8;
      transition: 0.2s;
      text-align: center;
    }
    .main-question {
      font-size: 1.5rem;
      font-weight: 900;
      color: #36417e;
      text-align: center;
      margin-bottom: 0.5rem;
      text-shadow: 0 2px 8px #fff8;
      transition: 0.2s;
    }

    /* ---------------- –ú–æ—Ç–∏–≤–∞—Ü–∏—è ---------------- */
    .motivation {
      font-size: 1.22rem;
      color: #36417e;
      background: #e9eafd;
      padding: 0.37em 1em;
      border-radius: 1.2em;
      margin-bottom: 1.4rem;
      font-weight: 800;
      min-height: 2.2rem;
      text-align: center;
      transition: 0.18s;
      max-width: 92vw;
      box-shadow: 0 2px 12px #d3e9fa65;
      display: inline-block;
      position: relative;
      z-index: 1;
      opacity: 0;
      animation: fadeMotivation 0.7s forwards;
    }
    @keyframes fadeMotivation {
      0%   { opacity: 0; transform: scale(0.92);}
      35%  { opacity: 1; transform: scale(1.04);}
      80%  { opacity: 1; transform: scale(1);}
      100% { opacity: 1; }
    }

    /* ---------------- –ö–Ω–æ–ø–∫–∏ "–î–∞" –∏ "–ù–µ—Ç" (–≤ –∫–æ–ª–æ–Ω–∫–µ, –Ω–æ –±–ª–∏–∑–∫–æ) ---------------- */
    .btns {
      display: flex; 
      flex-direction: column;  /* –≤ –∫–æ–ª–æ–Ω–∫—É */
      align-items: center;
      width: 100vw;
      min-height: 8rem;
      position: relative;
    }

    .yes-btn {
      background: linear-gradient(90deg, #00b09b 0%, #96c93d 100%);
      color: #fff;
      font-weight: bold;
      border: none;
      border-radius: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 16px #b3eabf61;
      z-index: 2; 
      position: relative;

      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;

      transition: font-size 0.26s, padding 0.22s, width 0.22s, height 0.22s, 
                  min-width 0.22s, min-height 0.22s, border-radius 0.25s, box-shadow 0.3s;
      animation: pulse 1.3s infinite alternate;

      font-size: 2rem;
      min-width: 170px;
      min-height: 65px;
      padding: 1.1rem 2.7rem;
      text-align: center;
      user-select: none;
    }
    .yes-btn.pulse-2 {
      animation: pulse2 1s infinite alternate;
    }
    .yes-btn.pulse-3 {
      animation: pulse3 0.8s infinite alternate;
    }

    /* –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "–î–ê" (—Ñ–∏–Ω–∞–ª) */
    .yes-btn.fullscreen {
      position: fixed !important;
      left: 0 !important;
      top: 0 !important;
      width: 100vw !important;
      height: 100vh !important;
      margin: 0 !important;
      border-radius: 0 !important;
      font-size: 8vw !important;
      padding: 0 !important;

      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 150;
      animation: none !important;

      box-shadow: 0 0 120px 45px #21cf8e88;
      background: linear-gradient(90deg, #38ef7d 0%, #11998e 100%) !important;

      min-width: 100vw;
      min-height: 100vh;
    }

    @keyframes pulse {
      from { box-shadow: 0 0 18px 6px #54fae2b5; }
      to   { box-shadow: 0 0 30px 12px #8be58eb3; }
    }
    @keyframes pulse2 {
      from { box-shadow: 0 0 38px 16px #63eebf; }
      to   { box-shadow: 0 0 55px 26px #c0f04f; }
    }
    @keyframes pulse3 {
      from { box-shadow: 0 0 70px 38px #5fff82b5; }
      to   { box-shadow: 0 0 90px 60px #fdffaab3; }
    }

    .no-btn {
      background: linear-gradient(90deg, #ef473a 0%, #cb2d3e 100%);
      color: #fff;
      font-size: 1.1rem;
      font-weight: bold;
      padding: 0.7rem 2rem;
      border: none;
      border-radius: 1.2rem;
      cursor: pointer;
      min-width: 95px;
      min-height: 40px;
      user-select: none;
      display: block;
      z-index: 5;
      transition: font-size 0.15s, padding 0.15s, background 0.13s, filter 0.13s;

      /* –ß—É—Ç—å —É–º–µ–Ω—å—à–∏–º –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É, —á—Ç–æ–±—ã "–ù–µ—Ç" –±—ã–ª–æ –±–ª–∏–∂–µ */
      margin-top: 0.8rem; 
    }

    /* ---------------- –í—Å–ø–ª—ã–≤–∞—é—â–∏–π —Å–º–∞–π–ª–∏–∫ –Ω–∞–¥ "–î–ê"/"–ù–ï–¢" ---------------- */
    .smile-da {
      font-size: 2.8rem;
      position: absolute;
      left: 50%;
      top: -2.1em;
      transform: translateX(-50%);
      z-index: 21;
      opacity: 0;
      transition: opacity 0.2s;
      pointer-events: none;
      user-select: none;
      animation: smileda 1.2s forwards;
    }
    @keyframes smileda {
      0%   {opacity: 0;}
      12%  {opacity: 1;}
      85%  {opacity: 1;}
      100% {opacity: 0;}
    }

    /* ---------------- Plus1 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω ---------------- */
    #plus1-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: 9999;
    }
    .plus1 {
      position: absolute;
      font-size: 2rem;
      font-weight: bold;
      color: #45c049;
      animation: plus1anim 1s ease-out forwards;
      text-shadow: 0 1px 5px #fff;
    }
    @keyframes plus1anim {
      0%   { transform: translate(0,0) scale(1); opacity: 1; }
      80%  { opacity: 1; }
      100% { transform: translate(0,-50px) scale(1.3); opacity: 0; }
    }

    /* ------------------ –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ ------------------ */
    .confetti {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 200;
    }
    .confetti.hidden {
      display: none;
    }

    /* ------------------ –ú–µ–¥–≤–µ–¥—å, –æ–±–ª–∞–∫–æ –∏ —Ç.–¥. (–ø—Ä–∏–º–µ—Ä) ------------------ */
    #bear {
      position: absolute;
      width: 100px; 
      height: 100px;
      bottom: 10px;
      right: 10px;
      background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAG1BMVEWqqqqqqqqqqqqqqqqqqqqqqqqoq/uxAAAACHRSTlMA8I6wj/j9pcvd4gAAAGxJREFUeNrt1DEOACAIBEChe/2VXBMCRwQHGpbjr+MT6B2JQKQQcnnrp92wyMVQIbQCWwC2wKWwCFwBGQ+lSUYd8h3f9zKQpkKQNAhDQCEMAgo+gXVfyop3nz1gS0U3kQAAAABJRU5ErkJggg==') no-repeat center/contain;
      z-index: 50;
    }
    #cloud {
      position: absolute;
      width: 120px; 
      height: 80px;
      top: 5vh;
      left: 5vw;
      background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABmCAYAAAAeF6/KAAAACXBIWXMAABYlAAAWJQFJUiTwAAACl0lEQVR4nO3cMU4bQRTF4S1KVyjU1K52xYAkEZRgcwW3ILqB0CyEBjQZqB1D0KZ7GMl8j6ZcuDG2TGpKkqRSpUqVKpOo9oS4l2H/wC8fb/2pSYC0OYUrIrLQs3S4wLAavmAQHOBEAwgRAxgqYwBLq+vBeQ+ubn9crp6ztN8OqCr2SNEs3CC7PvBHj0BQn/HvIUnDhEJ/HfIUHD8Ei1yf2Ig6PhELHK8x0Cy/Rk6n+0WC9gcKG9kNqIV37LFRmLGqTqiVRSVp9o6PEaWZwVo7l8n9v6GZTEvWILDUZhLh+T98DwDjghAMIEQDGBEC6xscSPjGo6evRmAAAAAElFTkSuQmCC') no-repeat center/contain;
      z-index: 51;
      opacity: 0.7;
      animation: floatCloud 10s linear infinite alternate;
    }
    @keyframes floatCloud {
      0%   { transform: translateY(0px)   translateX(0px); }
      100% { transform: translateY(15px)  translateX(10px); }
    }

  </style>
</head>
<body>

  <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
  <div class="progress-bar-bg" id="progress-bar-bg">
    <div class="progress-bar" id="progress"></div>
  </div>
  <!-- –¢–µ–∫—Å—Ç –ø–æ–¥ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º -->
  <div id="progressText"></div>

  <!-- –ï—Å–ª–∏ –∑–∞—Ö–æ—á–µ—à—å, –º–æ–∂–µ—à—å –≤–∫–ª—é—á–∞—Ç—å/–æ—Ç–∫–ª—é—á–∞—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ 100% -->
  <div class="progress-label" id="progress-label">–¢—ã –∑–∞—Ä—è–¥–∏–ª–∞—Å—å –Ω–∞ –º–∞–∫—Å–∏–º—É–º!</div>

  <div class="container" id="main-content">
    <div class="emoji" id="emoji"></div>

    <div class="goodmorning" id="gm">
      –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –ê–ª—ë–Ω–∞!
    </div>
    <div class="main-question" id="mainQ">
      –¢—ã –≥–æ—Ç–æ–≤–∞? –¢—ã –≤—Å—ë —Å–º–æ–∂–µ—à—å!
    </div>
    <div class="motivation" id="motivation">
      –í—Å—ë –ø–æ–ª—É—á–∏—Ç—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ –≤–æ–ª–Ω—É–µ—à—å—Å—è!
    </div>

    <!-- –ö–Ω–æ–ø–∫–∏ (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ, –Ω–æ "–ù–µ—Ç" —Å—Ä–∞–∑—É –ø–æ–¥ "–î–∞") -->
    <div class="btns">
      <button class="yes-btn" id="yesBtn">–î–∞!</button>
      <button class="no-btn" id="noBtn">–ù–µ—Ç</button>
    </div>

    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–ø–ª—é—Å–∏–∫–∏, —ç—Ñ—Ñ–µ–∫—Ç—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è) -->
    <div id="plus1-container"></div>
    <div id="effects-root"></div>
    <div id="bear"></div>
    <div id="cloud"></div>
  </div>

  <!-- Canvas –¥–ª—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ -->
  <canvas class="confetti hidden" id="confetti"></canvas>

  <script>
    /* --------------------------------------------
       –í—Å–µ –Ω—É–∂–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã, —Å–º–∞–π–ª–∏–∫–∏, —ç—Ñ—Ñ–µ–∫—Ç—ã, 
       –∞–Ω–∏–º–∞—Ü–∏–∏ ‚Äî "–ø–æ–ª–Ω—ã–π" –∫–æ–¥, —á—Ç–æ–±—ã —Å—Ä–∞–∑—É —Ä–∞–±–æ—Ç–∞–ª–æ.
       -------------------------------------------- */

    // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤/—É—Ä–æ–≤–Ω–µ–π
    let noClicks = 0,
        yesClicks = 0,
        yesLevel = 1,
        gameEnded = false,
        fullscreened = false;

    // –°–º–∞–π–ª–∏–∫–∏ –ø—Ä–∏ "–î–∞" –∏ –ø—Ä–∏ "–ù–µ—Ç"
    const yesSmiles = ['üòÅ','üòÉ','ü§ó','üò∏','ü•≥','ü§©','üòª','üôå','üíö','üòä','üòá','üéâ'];
    const noSmiles  = ['üòÖ','üòú','üòÜ','ü§™','üôÉ','ü´¢','üòÇ','üòù','ü§°','üò±'];

    // –°—Å—ã–ª–∫–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã
    const progress       = document.getElementById('progress');
    const noBtn          = document.getElementById('noBtn');
    const yesBtn         = document.getElementById('yesBtn');
    const progressLabel  = document.getElementById('progress-label');
    const confettiCanvas = document.getElementById('confetti');
    let confettiCtx      = confettiCanvas.getContext('2d');

    /* --------------- –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ --------------- */
    let confettiPieces = [];
    function createConfetti(num = 100) {
      // –ó–∞–ø–æ–ª–Ω—è–µ–º –º–∞—Å—Å–∏–≤ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
      confettiPieces = [];
      for (let i = 0; i < num; i++) {
        confettiPieces.push({
          x: Math.random() * window.innerWidth,
          y: Math.random() * window.innerHeight - window.innerHeight,
          r: Math.random() * 6 + 4,
          d: Math.random() * 20 + 10,
          color: `hsl(${Math.random() * 360}, 100%, 50%)`,
          tilt: Math.random() * 10 - 10,
          tiltAngleIncremental: Math.random() * 0.07 + 0.05,
          tiltAngle: Math.random() * Math.PI,
        });
      }
    }
    function drawConfetti() {
      confettiCtx.clearRect(0, 0, window.innerWidth, window.innerHeight);
      confettiPieces.forEach((p) => {
        confettiCtx.beginPath();
        confettiCtx.lineWidth = p.r;
        confettiCtx.strokeStyle = p.color;
        let x = p.x + p.tilt;
        confettiCtx.moveTo(x + p.r / 2, p.y);
        confettiCtx.lineTo(x, p.y + p.tilt + p.r / 2);
        confettiCtx.stroke();
      });
      updateConfetti();
      requestAnimationFrame(drawConfetti);
    }
    function updateConfetti() {
      confettiPieces.forEach((p) => {
        p.tiltAngle += p.tiltAngleIncremental;
        p.y += (Math.cos(p.d) + 3);
        p.tilt = Math.sin(p.tiltAngle) * 15;

        if (p.y > window.innerHeight) {
          p.x = Math.random() * window.innerWidth;
          p.y = -20;
        }
      });
    }

    /* ------ –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å —Ö–æ–ª—Å—Ç –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ ------ */
    function startConfetti() {
      confettiCanvas.classList.remove('hidden');
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
      createConfetti(180);
      drawConfetti();
    }
    function stopConfetti() {
      confettiCanvas.classList.add('hidden');
      confettiCtx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
      confettiPieces = [];
    }

    /* --------------- –ü–ª—é—Å–∏–∫–∏ (+1) --------------- */
    function plusOneEffect(x, y, text='+1') {
      const container = document.getElementById('plus1-container');
      const plus = document.createElement('div');
      plus.className = 'plus1';
      plus.style.left = x + 'px';
      plus.style.top = y + 'px';
      plus.textContent = text;
      container.appendChild(plus);
      setTimeout(() => {
        container.removeChild(plus);
      }, 1000);
    }

    /* --------------- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä --------------- */
    function updateProgressBar() {
      // –ü—É—Å—Ç—å yesLevel * 8% = –ø—Ä–æ–≥—Ä–µ—Å—Å (–ø—Ä–∏–º–µ—Ä)
      let progressPercent = yesLevel * 8;
      if (progressPercent > 100) {
        progressPercent = 100; 
      }

      progress.style.width = progressPercent + '%';

      // –¢–µ–∫—Å—Ç –ø–æ–¥ –ø–æ–ª–æ—Å–æ–π
      const progressTextEl = document.getElementById('progressText');
      if (progressPercent < 30) {
        progressTextEl.textContent = `–ï—â—ë —á—É—Ç—å-—á—É—Ç—å... (${progressPercent}%)`;
      } else if (progressPercent < 60) {
        progressTextEl.textContent = `–û—Ç–ª–∏—á–Ω–æ, —Ç–∞–∫ –¥–µ—Ä–∂–∞—Ç—å! (${progressPercent}%)`;
      } else if (progressPercent < 90) {
        progressTextEl.textContent = `–£–∂–µ –ø–æ—á—Ç–∏ —Ñ–∏–Ω–∏—à! (${progressPercent}%)`;
      } else if (progressPercent < 100) {
        progressTextEl.textContent = `–°–æ–≤—Å–µ–º —á—É—Ç—å-—á—É—Ç—å –¥–æ 100%! (${progressPercent}%)`;
      } else {
        progressTextEl.textContent = '–£—Ä–∞! 100% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å!';
        progressLabel.classList.add('active'); // "–¢—ã –∑–∞—Ä—è–¥–∏–ª–∞—Å—å –Ω–∞ –º–∞–∫—Å–∏–º—É–º!"
      }
    }

    /* –°–¥–≤–∏–≥ "–ù–µ—Ç" (–µ—Å–ª–∏ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã –æ–Ω–∞ –ø–ª–∞–≤–∞–ª–∞ –æ—Ç –∫–ª–∏–∫–æ–≤) */
    function setNoBtnPos() {
      // –£–º–µ–Ω—å—à–∏–ª–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã, —á—Ç–æ–±—ã —Å–∏–ª—å–Ω–µ–µ –Ω–µ —É–µ–∑–∂–∞–ª–∞
      noBtn.style.marginTop = (5 + (noClicks + yesClicks) * 3) + 'px';
    }

    /* –°–º–∞–π–ª–∏–∫ –Ω–∞–¥ "–î–ê" */
    function showSmileDa() {
      let smile = document.createElement('span');
      smile.className = 'smile-da';
      smile.textContent = yesSmiles[Math.floor(Math.random() * yesSmiles.length)];
      yesBtn.appendChild(smile);
      setTimeout(() => smile.remove(), 1200);
    }

    /* –°–º–∞–π–ª–∏–∫ –Ω–∞–¥ "–ù–ï–¢" */
    function showSmileNo() {
      let smile = document.createElement('span');
      smile.className = 'smile-da';
      smile.textContent = noSmiles[Math.floor(Math.random() * noSmiles.length)];
      noBtn.appendChild(smile);
      setTimeout(() => smile.remove(), 1200);
    }

    /* –ò–∑–º–µ–Ω—è–µ–º –∫–Ω–æ–ø–∫—É "–î–ê" –ø—Ä–∏ —Ä–æ—Å—Ç–µ yesLevel */
    function updateYesBtn() {
      yesBtn.innerHTML = '';

      let excls = yesLevel;
      if (excls <= 8) {
        // –ú–∞–ª–æ ‚Äî "–î–ê!"
        yesBtn.innerHTML = `–î–ê${'!'.repeat(excls)}`;
      } else {
        // –ú–Ω–æ–≥–æ ‚Äî —Ä–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ 3 —Å—Ç—Ä–æ–∫–∏
        let top = '!'.repeat(Math.ceil(excls / 2));
        let bottom = '!'.repeat(Math.floor(excls / 2));
        yesBtn.innerHTML = `
          <span style="display:block;font-size:0.8em;">${top}</span>
          <span style="display:block;font-size:1.18em;line-height:1.08;">–î–ê</span>
          <span style="display:block;font-size:0.8em;">${bottom}</span>
        `;
      }

      // –ü–ª–∞–≤–Ω—ã–π —Ä–æ—Å—Ç
      let scale = 1 + yesLevel * 0.11;
      yesBtn.style.fontSize = `clamp(2rem, ${scale * 4.4}vw, 7.7rem)`;
      yesBtn.style.minWidth = `${170 + yesLevel * 17}px`;
      yesBtn.style.minHeight = `${65 + yesLevel * 11}px`;

      // –ü—Ä–∏ –±–æ–ª—å—à–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö ‚Äî —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ–º
      if (yesLevel >= 10) {
        yesBtn.style.width = '92vw';
        yesBtn.style.height = '67vh';
      } else {
        yesBtn.style.width = 'auto';
        yesBtn.style.height = 'auto';
      }

      // –î–æ–ø. –∞–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞
      if (yesLevel > 3 && yesLevel < 7) {
        yesBtn.classList.add('pulse-2');
      } else {
        yesBtn.classList.remove('pulse-2');
      }
      if (yesLevel >= 7 && yesLevel < 10) {
        yesBtn.classList.add('pulse-3');
      } else {
        yesBtn.classList.remove('pulse-3');
      }

      // –§–∏–Ω–∞–ª ‚Äî fullscreen
      if (yesLevel >= 13 && !fullscreened) {
        yesBtn.classList.add('fullscreen');
        document.getElementById('progress-bar-bg').classList.add('hide');
        fullscreened = true;
        finish(); 
      }
    }

    /* –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è "–î–ê" */
    function growYesBtn() {
      yesLevel++;
      updateYesBtn();
      setNoBtnPos();
      updateProgressBar();
    }

    /* –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ */
    yesBtn.onclick = (event) => {
      if (gameEnded) return;
      yesClicks++;

      growYesBtn();
      showSmileDa();
      plusOneEffect(event.clientX, event.clientY, '+1');
    };
    noBtn.onclick = (event) => {
      if (gameEnded) return;
      noClicks++;

      // –ü—Ä–∏ "–ù–µ—Ç" –≤—Å—ë —Ä–∞–≤–Ω–æ —Ä–∞—Å—Ç—ë–º (–º–æ–∂–µ—à—å —É–±—Ä–∞—Ç—å, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ)
      growYesBtn();
      showSmileNo();
      plusOneEffect(event.clientX, event.clientY, '-1? –ù–µ—Ç, –≤—Å—ë —Ä–∞–≤–Ω–æ +1!');
    };

    /* –§–∏–Ω–∞–ª: –∫–Ω–æ–ø–∫–∞ "–î–ê" —Å—Ç–∞–ª–∞ fullscreen */
    function finish() {
      gameEnded = true;
      console.log('–§–∏–Ω–∞–ª: –∫–Ω–æ–ø–∫–∞ ¬´–î–ê¬ª —Å—Ç–∞–ª–∞ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–π!');
      // –ó–∞–ø—É—Å—Ç–∏–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏, —á—Ç–æ–±—ã –±—ã–ª–æ –≤–µ—Å–µ–ª–æ
      startConfetti();

      // –ß–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –æ—Ç–∫–ª—é—á–∏–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
      setTimeout(() => {
        stopConfetti();
      }, 5000);

      // –ú–æ–∂–µ—à—å —Ç—É—Ç –º–µ–Ω—è—Ç—å –º–æ—Ç–∏–≤–∞—Ü–∏—é, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Ç.–¥.
      /*
      document.getElementById('motivation').textContent = '–£—Ä–∞! –¢—ã –¥–æ—à–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞!';
      */
    }

    /* –°–±—Ä–æ—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ */
    window.onload = () => {
      noClicks = 0;
      yesClicks = 0;
      yesLevel = 1;
      gameEnded = false;
      fullscreened = false;

      // –ï—Å–ª–∏ –º–µ—Ç–∫–∞ –±—ã–ª–∞ active, —É–±–∏—Ä–∞–µ–º
      progressLabel.classList.remove('active');

      updateYesBtn();
      setNoBtnPos();
      updateProgressBar();
    };

    /* –ê–¥–∞–ø—Ç–∏—Ä—É–µ–º canvas –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –ø—Ä–∏ resize */
    window.onresize = () => {
      confettiCanvas.width  = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
    };
  </script>
</body>
</html>



